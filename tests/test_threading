from time import perf_counter, sleep
from threading import Thread
from ping.payments_api import PaymentsApi

start_time = perf_counter()

# create and start 10 threads
threads = []



def t1():
    payments_api = PaymentsApi(tenant_id="a2a4f648-a50b-42fb-bda8-00c6e2f295ea")
    result = payments_api.merchant.get_merchants()
    print(result.status_code)


t1 = Thread(target=t1)

def t2():
    payments_api = PaymentsApi(tenant_id="")
    result = payments_api.merchant.get_merchants()
    print(result.status_code)

t2 = Thread(target=t2)

threads.append(t1)
threads.append(t2)
t1.start() # Succeed: 200
t2.start() # Fail: 422

# wait for the threads to complete


end_time = perf_counter()

print(f'It took {end_time- start_time: 0.2f} second(s) to complete.')